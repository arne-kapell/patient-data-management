{% extends "pdm/main.html" %}

{% block title %}Password change{% endblock %}

{% block style %}
#change-pw {
    display: flex;
    flex-direction: column;
    min-width:20%;
    width: min-content;
    margin: auto;
}
#change-pw div {
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
    margin: 0.5em;
}
{% endblock %}

{% block content %}
{% if form.errors %}
<div class="card alert error" role="alert">
    {% for field in form %}
        {% for error in field.errors %}
            <p>{{ error|escape }}</p>
        {% endfor %}
    {% endfor %}
</div>
{% endif %}

<h2>Change your password</h2>
<form id="change-pw" method="post" action="{% url 'change-password' %}">
{% csrf_token %}
<div>
    {{ form.old_password.label_tag }} {{ form.old_password }}
</div>
<div>
    {{ form.new_password1.label_tag }} {{ form.new_password1 }}
</div>
<div>
    {{ form.new_password2.label_tag }} {{ form.new_password2 }}
</div>

<div style="justify-content: center">
    <input type="submit" value="Save changes">
</div>
</form>

<p><a href="{% url 'profile' %}"><button>Back</button></a></p>

{% endblock %}